(function(e){function t(t){for(var a,r,c=t[0],s=t[1],u=t[2],l=0,d=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);m&&m(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={index:0},o={index:0},i=[];function c(e){return s.p+"static/js/"+({}[e]||e)+"."+{"chunk-13acd706":"fa0f60f0","chunk-2d087df4":"971cc1d1"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-13acd706":1,"chunk-2d087df4":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="static/css/"+({}[e]||e)+"."+{"chunk-13acd706":"053d442f","chunk-2d087df4":"574e6d10"}[e]+".css",o=s.p+a,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===a||l===o)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var a=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[e],m.parentNode.removeChild(m),n(i)},m.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(m);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"SocketInstance",(function(){return G}));n("cadf"),n("551c"),n("f751"),n("097d");var a,r,o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("nav-bar"),n("v-main",{staticClass:"accent"},[n("router-view")],1)],1)},c=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("update-feed",{model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}}),n("v-app-bar",{staticClass:"centered",attrs:{color:"primary",dark:"",app:"",tabs:"",prominent:""}},[n("v-container",{staticClass:"mx-0 px-0",attrs:{fluid:""}},[n("v-row",{staticClass:"mx-0 px-0"},[n("v-col",{attrs:{cols:"8",xs:"8",sm:"9",md:"10"}},[n("v-row",{staticClass:"mx-0 px-0",attrs:{justify:"space-between"}},[n("v-col",{attrs:{cols:"4",xs:"12",sm:"12",md:"5",lg:"5",xl:"3"}},[n("div",{staticClass:"text-xl-h4 text-sm-h3 font-weight-black font-italic pr-2 mr-2 text-no-wrap"},[e._v("\n                Smart Buoy \n              ")])]),n("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[n("v-text-field",{ref:"addressbar",attrs:{color:"accent",dark:"",label:"Enter your Smart Buoy URL",dense:"",rounded:"",outlined:"","append-icon":e.piUrlSet?"mdi-pencil":"mdi-check",readonly:e.piUrlSet,placeholder:"http://raspberrypi.local:5000"},on:{"click:append":function(t){e.piUrlSet?e.editUrl():e.setUrl()},click:e.editUrl,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setUrl(t)}},model:{value:e.piUrl,callback:function(t){e.piUrl=t},expression:"piUrl"}})],1),n("v-spacer")],1)],1),n("v-spacer"),n("v-col",{attrs:{cols:"4",xs:"4",sm:"3",md:"2"}},[n("div",{staticClass:"float-right"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-icon",e._g({staticClass:"pa-1",attrs:{color:e.statusColor}},a),[e._v(e._s(e.statusIcon))])]}}])},[n("span",[e._v("Socket Connection")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-icon",e._g({staticClass:"pa-1",on:{click:function(t){return t.stopPropagation(),e.drawerToggle(t)}}},a),[e._v("mdi-message")])]}}])},[n("span",[e._v("View Live Feed")])])],1)])],1)],1),n("v-tabs",{attrs:{slot:"extension",grow:""},slot:"extension",model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("v-tabs-slider",{attrs:{color:"accent"}}),e._l(e.routes,(function(t){return n("v-tab",{key:t.name,attrs:{to:t.path}},[e._v("\n        "+e._s(t.name)+"\n      ")])}))],2)],1)],1)},u=[],l=(n("7f7f"),n("2877")),d={},m=Object(l["a"])(d,a,r,!1,null,null,null),p=m.exports,f={components:{UpdateFeed:p},sockets:{connect:function(){this.statusColor="secondary",this.statusIcon="mdi-wifi-strength-4"},disconnect:function(){this.statusColor="red",this.statusIcon="mdi-alert-circle"}},data:function(){return{piUrl:this.$store.state.piUrl,piUrlSet:!0,routes:this.$router.options.routes.map((function(e){return{name:e.name,path:e.path}})),active:null,text:"Live updates received",statusIcon:"mdi-alert-circle",statusColor:"red",drawer:null}},methods:{drawerToggle:function(){this.drawer=!this.drawer},setUrl:function(){this.piUrlSet=!0,this.$refs.addressbar.blur();var e=new URL(this.piUrl);console.log("urlObj",e),this.$store.commit("updatePiUrl",this.piUrl)},editUrl:function(){this.piUrlSet=!1}}},v=f,h=n("6544"),g=n.n(h),w=n("40dc"),b=n("62ad"),y=n("a523"),_=n("132d"),k=n("0fd9"),x=n("2fa4"),C=n("71a3"),S=n("fe57"),U=n("9a96"),O=n("8654"),D=n("3a2f"),P=Object(l["a"])(v,s,u,!1,null,null,null),T=P.exports;g()(P,{VAppBar:w["a"],VCol:b["a"],VContainer:y["a"],VIcon:_["a"],VRow:k["a"],VSpacer:x["a"],VTab:C["a"],VTabs:S["a"],VTabsSlider:U["a"],VTextField:O["a"],VTooltip:D["a"]});var j={components:{NavBar:T},created:function(){this.$store.commit("updatePiUrl",location.origin)}},E=j,V=(n("c5d5"),n("7496")),$=n("f6c4"),A=Object(l["a"])(E,i,c,!1,null,"40d508a0",null),L=A.exports;g()(A,{VApp:V["a"],VMain:$["a"]});var M=n("f309"),N=n("fcf4");o["a"].use(M["a"]);var R=new M["a"]({theme:{dark:!1,options:{customProperties:!0},themes:{light:{primary:N["a"].cyan,secondary:N["a"].lime.accent1,accent:N["a"].teal.accent2}}}}),B=n("8c4f");o["a"].use(B["a"]);var I=new B["a"]({mode:"history",base:"/",routes:[{path:"/",name:"dashboard",component:function(){return n.e("chunk-13acd706").then(n.bind(null,"7277"))}},{path:"/trends",name:"trends",component:function(){return n.e("chunk-2d087df4").then(n.bind(null,"9634"))}}]}),F=(n("a481"),n("55dd"),n("8615"),n("ffc1"),n("ac6a"),n("456d"),n("2f62"));o["a"].use(F["a"]);var W=new F["a"].Store({state:{piUrl:"http://localhost:5000",measurements:{location:{name:"Location",data:[[new Date,[12.015089,-61.697963]]],unit:"",icon:"mdi-crosshairs-gps",trend:!1},wave_height:{name:"Wave Height",data:[[new Date,4.1],[new Date,4.1]],unit:"m",icon:"mdi-current-ac",trend:!0},wave_period:{name:"Wave Period",data:[[new Date,3.2],[new Date,3.2]],unit:"s",icon:"mdi-current-ac",trend:!0},wave_power:{name:"Wave Power",data:[[new Date,25.8],[new Date,25.8]],unit:"kW/m",icon:"mdi-current-ac",trend:!0},air_temperature:{name:"Air Temperature",data:[[new Date,32.1],[new Date,32.1]],unit:"°C",icon:"mdi-thermometer",trend:!0},water_temperature:{name:"Water Temperature",data:[[new Date,16.4],[new Date,16.4]],unit:"°C",icon:"mdi-thermometer",trend:!0},voltage:{name:"Voltage",data:[[new Date,5.4],[new Date,5.4]],unit:"V",icon:"mdi-battery",trend:!0},current:{name:"Current",data:[[new Date,-200],[new Date,-200]],unit:"mA",icon:"mdi-power-plug",trend:!0},wait_time:{name:"Wait Time",data:[[new Date,2],[new Date,2]],unit:"s",icon:"mdi-camera-timer",trend:!0}}},getters:{measurementNames:function(e){return Object.keys(e.measurements)},trendMeasurementNames:function(e){return Object.entries(e.measurements).filter((function(e){return e[1].trend})).map((function(e){return e[0]}))},recentUpdates:function(e){for(var t=[],n=function(){var e=r[a];e.data.forEach((function(n){if(!(n.length<1))try{t.push({name:e.name,dtime:n[0],value:n[1],time:"".concat(n[0].getHours(),":").concat(n[0].getMinutes(),":").concat(n[0].getSeconds()),icon:e.icon})}catch(a){n[0]=new Date(n[0]),t.push({name:e.name,dtime:n[0],value:n[1],time:"".concat(n[0].getHours(),":").concat(n[0].getMinutes(),":").concat(n[0].getSeconds()),icon:e.icon})}}))},a=0,r=Object.values(e.measurements);a<r.length;a++)n();return t.sort((function(e,t){return new Date(t.dtime)-new Date(e.dtime)})),t.slice(0,20)},current_value_of_measurement:function(e){return function(t){return e.measurements[t].data.slice(-1)[0][1]}},mostRecentMeasurement:function(e){return function(t){var n=e.measurements[t];if(n.data.length>0&&n.data[0].length>0){var a=n.data.slice(-1)[0];return{time:a[0],value:a[1],unit:n.unit,icon:n.icon}}}},gChartForMeasurements:function(e){return function(t){if(e.measurements[t].data.length>1)return e.measurements[t].data.slice(1)}}},mutations:{updatePiUrl:function(e,t){e.piUrl=t,this._vm.$socket.close(),this._vm.$socket.io.uri=t,this._vm.$socket.open()},addDataPoint:function(e,t){var n;try{n=e.measurements[t.name].data}catch(a){return void console.log("ERROR: ",a)}while(n.length>50)n.shift();n.push(t.dataPoint)}},actions:{SOCKET_buoy_measurement_update:function(e,t){var n=e.commit,a=JSON.parse(t),r=a.name,o="location"!==r?parseFloat(a.value):a.value,i=new Date(a.time),c=r.replace(" ","_");n("addDataPoint",{name:c,dataPoint:[i,o]})}}}),K=n("5132"),H=n.n(K),J=n("8055"),q=n.n(J),Y=n("cb43"),z=n("755e");o["a"].use(Y["default"]),o["a"].use(B["a"]),o["a"].use(z,{load:{key:"YOUR_KEY",libraries:"places"}});var G=q()(null,{autoConnect:!1,transports:["polling"],host:"0.0.0.0",port:5e3});o["a"].use(new H.a({connection:G,vuex:{store:W,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),o["a"].config.productionTip=!1,new o["a"]({vuetify:R,router:I,store:W,render:function(e){return e(L)}}).$mount("#app")},c5d5:function(e,t,n){"use strict";n("d25c")},d25c:function(e,t,n){}});
//# sourceMappingURL=index.db65a0f3.js.map